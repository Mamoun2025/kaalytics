/**
 * Kaalytics Responsive Styles
 * Mobile-first optimizations
 */

/* ========================================
   MOBILE FIRST (< 640px)
   ======================================== */

@media (max-width: 640px) {
    /* Global spacing adjustments */
    :root {
        --space-4xl: 3rem;
        --space-3xl: 2rem;
    }

    /* Container padding */
    .container {
        padding-left: var(--space-md);
        padding-right: var(--space-md);
    }

    /* Typography scaling */
    .section-header h2,
    .section-title {
        font-size: var(--text-2xl);
        line-height: 1.2;
    }

    .section-header p,
    .section-description {
        font-size: var(--text-base);
    }

    /* =====================
       NAVBAR MOBILE
       ===================== */
    .navbar__container {
        padding: 0 var(--space-md);
    }

    .navbar__logo-text {
        font-size: var(--text-lg);
    }

    .navbar__logo-icon {
        width: 32px;
        height: 32px;
    }

    .navbar__actions .btn {
        padding: var(--space-sm) var(--space-md);
        font-size: var(--text-sm);
    }

    /* Lang switcher stays visible on mobile - even more compact */
    .lang-switcher {
        display: flex;
        padding: 2px 4px;
        font-size: 11px;
        gap: 2px;
    }

    .lang-switcher__option {
        padding: 2px 6px;
    }

    /* Mobile menu overlay */
    .navbar__mobile-menu {
        position: fixed;
        top: var(--navbar-height);
        left: 0;
        right: 0;
        bottom: 0;
        background: var(--bg-void);
        padding: var(--space-xl);
        transform: translateX(100%);
        transition: transform var(--transition-base);
        z-index: var(--z-modal);
        overflow-y: auto;
    }

    .navbar__mobile-menu.active {
        transform: translateX(0);
    }

    .navbar__mobile-menu .navbar__nav {
        display: flex;
        flex-direction: column;
        gap: var(--space-lg);
    }

    .navbar__mobile-menu .navbar__link {
        font-size: var(--text-lg);
        padding: var(--space-md) 0;
        border-bottom: 1px solid var(--border-subtle);
    }

    /* =====================
       HERO MOBILE
       ===================== */
    .hero {
        min-height: calc(100vh - var(--navbar-height));
        padding: var(--space-3xl) 0;
    }

    .hero__content {
        padding: 0 var(--space-md);
    }

    .hero__badge {
        font-size: var(--text-xs);
        padding: var(--space-xs) var(--space-md);
        margin-bottom: var(--space-lg);
    }

    .hero__badge-text {
        display: none;
    }

    .hero__badge-status::after {
        content: '50+ entreprises';
        margin-left: var(--space-xs);
    }

    .hero__title {
        font-size: clamp(1.75rem, 8vw, 2.5rem);
        margin-bottom: var(--space-lg);
    }

    .hero__description {
        font-size: var(--text-base);
        margin-bottom: var(--space-xl);
    }

    .hero__metrics {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-md);
        margin-bottom: var(--space-xl);
    }

    .hero__metric {
        padding: var(--space-md);
        background: rgba(16, 185, 129, 0.05);
        border-radius: var(--radius-lg);
        border: 1px solid var(--border-subtle);
    }

    .hero__metric-value {
        font-size: var(--text-xl);
    }

    .hero__metric-label {
        font-size: var(--text-xs);
    }

    .hero__actions {
        flex-direction: column;
        gap: var(--space-sm);
    }

    .hero__actions .btn {
        width: 100%;
        justify-content: center;
    }

    .hero__scroll {
        display: none;
    }

    /* Hero visual effects - reduce on mobile */
    .hero__particles,
    .hero__orb {
        opacity: 0.3;
    }

    /* =====================
       FLEETOPS MOBILE
       ===================== */
    .fleetops-showcase {
        padding: var(--space-3xl) 0;
    }

    .fleetops-showcase__header {
        margin-bottom: var(--space-2xl);
    }

    .fleetops-showcase__badge {
        font-size: var(--text-xs);
        padding: var(--space-xs) var(--space-md);
    }

    .fleetops-showcase__title {
        font-size: clamp(1.75rem, 6vw, 2.5rem);
    }

    .fleetops-showcase__subtitle {
        font-size: var(--text-base);
    }

    .fleetops-showcase__content {
        gap: var(--space-xl);
    }

    /* Video container - reduced height on mobile with fallback background */
    .fleetops-showcase__video-container {
        position: relative;
    }

    .fleetops-showcase__video-wrapper {
        border-radius: var(--radius-xl);
        aspect-ratio: 4 / 3;
        min-height: 200px;
        max-height: 280px;
        background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-secondary) 100%);
        background-image: url('../images/fleetops-poster.jpg');
        background-size: cover;
        background-position: center;
    }

    .fleetops-showcase__video {
        object-fit: cover;
    }

    .fleetops-showcase__module-info {
        padding: var(--space-md);
        flex-direction: column;
        align-items: flex-start;
        text-align: left;
    }

    .fleetops-showcase__module-number {
        width: 44px;
        height: 44px;
        font-size: var(--text-md);
    }

    .fleetops-showcase__module-name {
        font-size: var(--text-lg);
    }

    .fleetops-showcase__module-desc {
        font-size: var(--text-xs);
    }

    .fleetops-showcase__modules {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--space-sm);
        opacity: 1 !important;
        transform: none !important;
    }

    .fleetops-module {
        padding: var(--space-sm);
        border-radius: var(--radius-lg);
        opacity: 1 !important;
        transform: none !important;
        background: var(--bg-secondary);
    }

    .fleetops-module__number {
        font-size: var(--text-xs);
    }

    .fleetops-module__name {
        font-size: var(--text-xs);
    }

    .fleetops-showcase__stats {
        padding: var(--space-lg);
        gap: var(--space-md);
        border-radius: var(--radius-xl);
    }

    .fleetops-showcase__stat-value {
        font-size: var(--text-xl);
    }

    .fleetops-showcase__stat-label {
        font-size: var(--text-xs);
    }

    .fleetops-showcase__industries {
        gap: var(--space-xs);
    }

    .fleetops-showcase__industry {
        font-size: var(--text-xs);
        padding: var(--space-xs) var(--space-sm);
    }

    .fleetops-showcase__pricing {
        text-align: center;
    }

    .fleetops-showcase__pricing strong {
        font-size: var(--text-lg);
        display: block;
    }

    /* =====================
       MODULES IA MOBILE
       ===================== */
    .modules-ia {
        padding: var(--space-3xl) 0;
    }

    .modules-ia__grid {
        gap: var(--space-md);
    }

    .module-ia-card {
        padding: var(--space-lg);
    }

    .module-ia-card__icon {
        width: 48px;
        height: 48px;
        font-size: 1.5rem;
        margin-bottom: var(--space-md);
    }

    .module-ia-card__title {
        font-size: var(--text-lg);
    }

    .module-ia-card__description {
        font-size: var(--text-sm);
        -webkit-line-clamp: 2;
    }

    .module-ia-card__tags {
        gap: var(--space-xs);
    }

    .module-ia-card__tag {
        font-size: 0.65rem;
        padding: 0.2rem 0.4rem;
    }

    /* Playground CTA */
    .modules-ia__playground-cta {
        padding: var(--space-xl);
        border-radius: var(--radius-xl);
    }

    .modules-ia__playground-cta h3 {
        font-size: var(--text-lg);
    }

    .modules-ia__industries {
        flex-direction: column;
        align-items: center;
        gap: var(--space-sm);
    }

    .modules-ia__industries-label {
        margin-bottom: var(--space-xs);
    }

    /* =====================
       SOCIAL PROOF MOBILE
       ===================== */
    .social-proof {
        padding: var(--space-3xl) 0;
    }

    .social-proof__stats {
        gap: var(--space-lg);
    }

    .social-proof__stat-value {
        font-size: var(--text-3xl);
    }

    .social-proof__stat-label {
        font-size: var(--text-xs);
    }

    /* Testimonials */
    .testimonials {
        margin-top: var(--space-2xl);
        padding-top: var(--space-2xl);
    }

    .testimonials__header h3 {
        font-size: var(--text-xl);
    }

    .testimonials__grid {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }

    .testimonial-card {
        padding: var(--space-lg);
    }

    .testimonial-card__stars {
        font-size: var(--text-base);
    }

    .testimonial-card__quote {
        font-size: var(--text-sm);
    }

    .testimonial-card__avatar {
        width: 40px;
        height: 40px;
        font-size: var(--text-xs);
    }

    .testimonial-card__name {
        font-size: var(--text-sm);
    }

    .testimonial-card__role {
        font-size: var(--text-xs);
    }

    /* Client logos */
    .social-proof__clients {
        margin-top: var(--space-2xl);
        padding-top: var(--space-xl);
    }

    .social-proof__logos {
        gap: var(--space-sm);
    }

    .client-logo {
        padding: var(--space-sm) var(--space-md);
        font-size: var(--text-sm);
    }

    /* =====================
       CTA SECTION MOBILE
       ===================== */
    .cta-section {
        padding: var(--space-3xl) var(--space-md);
    }

    .cta-section__content {
        padding: var(--space-xl);
        border-radius: var(--radius-xl);
    }

    .cta-section__icon {
        font-size: var(--text-3xl);
    }

    .cta-section__title {
        font-size: var(--text-2xl);
    }

    .cta-section__description {
        font-size: var(--text-base);
    }

    .cta-section__steps {
        flex-direction: column;
        gap: var(--space-md);
    }

    .cta-section__step {
        flex-direction: row;
        text-align: left;
        gap: var(--space-md);
    }

    .cta-section__step-number {
        flex-shrink: 0;
    }

    .cta-section__actions {
        flex-direction: column;
        gap: var(--space-sm);
    }

    .cta-section__actions a {
        width: 100%;
        text-align: center;
        justify-content: center;
    }

    /* =====================
       FOOTER MOBILE
       ===================== */
    .footer {
        padding: var(--space-2xl) 0 var(--space-lg);
    }

    .footer__container {
        padding: 0 var(--space-md);
    }

    .footer__grid {
        grid-template-columns: 1fr 1fr;
        gap: var(--space-xl);
    }

    .footer__brand {
        grid-column: 1 / -1;
        max-width: 100%;
        text-align: center;
    }

    .footer__logo {
        justify-content: center;
    }

    .footer__tagline {
        max-width: 280px;
        margin: 0 auto var(--space-lg);
    }

    .footer__social {
        justify-content: center;
    }

    .footer__column {
        text-align: center;
    }

    .footer__links {
        align-items: center;
    }

    .footer__column-title {
        font-size: var(--text-xs);
        margin-bottom: var(--space-md);
    }

    .footer__link {
        font-size: var(--text-xs);
    }

    .footer__bottom {
        flex-direction: column;
        gap: var(--space-sm);
    }

    .footer__copyright {
        font-size: var(--text-xs);
    }

    .footer__legal {
        gap: var(--space-md);
    }

    .footer__legal-link {
        font-size: var(--text-xs);
    }
}

/* ========================================
   TABLET (641px - 1024px)
   ======================================== */

@media (min-width: 641px) and (max-width: 1024px) {
    /* Hero adjustments */
    .hero__metrics {
        gap: var(--space-xl);
    }

    .hero__metric-value {
        font-size: var(--text-2xl);
    }

    /* FleetOps adjustments */
    .fleetops-showcase__modules {
        grid-template-columns: repeat(4, 1fr);
    }

    /* Modules IA grid */
    .modules-ia__grid {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Testimonials */
    .testimonials__grid {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Footer */
    .footer__grid {
        grid-template-columns: 1fr 1fr 1fr;
    }

    .footer__brand {
        grid-column: 1 / -1;
    }
}

/* ========================================
   TOUCH DEVICE OPTIMIZATIONS
   ======================================== */

@media (hover: none) and (pointer: coarse) {
    /* Larger touch targets */
    .btn {
        min-height: 48px;
        padding: var(--space-md) var(--space-xl);
    }

    .navbar__link {
        padding: var(--space-md) 0;
    }

    .fleetops-module {
        min-height: 80px;
    }

    /* Disable hover effects that don't work well on touch */
    .services__description {
        opacity: 1;
        transform: none;
    }

    .testimonial-card:hover {
        transform: none;
    }

    .module-ia-card:hover {
        transform: none;
    }

    /* Show all content by default */
    .fleetops-module:hover,
    .fleetops-module {
        background: var(--bg-card);
    }
}

/* ========================================
   LANDSCAPE MOBILE
   ======================================== */

@media (max-width: 896px) and (orientation: landscape) {
    .hero {
        min-height: auto;
        padding: var(--space-2xl) 0;
    }

    .hero__metrics {
        flex-direction: row;
        flex-wrap: nowrap;
    }
}

/* ========================================
   HIGH DPI / RETINA ADJUSTMENTS
   ======================================== */

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .hero__video {
        image-rendering: -webkit-optimize-contrast;
    }
}

/* ========================================
   REDUCED MOTION
   ======================================== */

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .hero__particles,
    .hero__orb,
    .hero__grid {
        display: none;
    }
}

/* ========================================
   NEW PAGES RESPONSIVE (Products, Guides, Blog)
   ======================================== */

@media (max-width: 768px) {
    /* Product pages */
    .product-hero__grid {
        grid-template-columns: 1fr;
        text-align: center;
    }

    .product-hero__title {
        font-size: var(--text-3xl);
    }

    .product-hero__actions {
        justify-content: center;
    }

    .product-demo {
        padding: var(--space-lg);
    }

    .demo-terminal {
        font-size: var(--text-xs);
    }

    /* Pricing cards */
    .pricing__grid {
        grid-template-columns: 1fr;
        gap: var(--space-lg);
    }

    .pricing-card {
        padding: var(--space-xl);
    }

    .pricing-card__price {
        font-size: var(--text-3xl);
    }

    /* Features grid */
    .features__grid {
        grid-template-columns: 1fr;
    }

    /* Guides page */
    .guides__grid {
        grid-template-columns: 1fr;
    }

    .guides__filters {
        flex-wrap: wrap;
        justify-content: center;
    }

    /* Blog page */
    .blog__grid {
        grid-template-columns: 1fr;
    }

    .blog-card__image {
        height: 180px;
    }

    /* Page headers */
    .page-header__title {
        font-size: var(--text-3xl);
    }

    .page-header__subtitle {
        font-size: var(--text-base);
    }
}

@media (max-width: 480px) {
    /* Product pages - extra small */
    .product-stats {
        grid-template-columns: 1fr;
    }

    .product-stats__item {
        padding: var(--space-md);
    }

    /* Module grid on product pages */
    .modules__grid {
        grid-template-columns: 1fr 1fr;
    }

    /* Industry badges */
    .industries__list {
        flex-direction: column;
        align-items: center;
    }
}

/* ========================================
   DARK MODE CONTRAST FIXES
   ======================================== */

@media (prefers-color-scheme: dark) {
    /* Ensure sufficient contrast */
    .btn-orange {
        box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
    }

    .btn-purple {
        box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
    }

    .card--orange:hover,
    .card--purple:hover,
    .card--blue:hover,
    .card--pink:hover {
        box-shadow: 0 20px 40px -10px currentColor;
    }
}

/* ========================================
   LARGE SCREENS (1440px+)
   ======================================== */

@media (min-width: 1440px) {
    .container,
    .navbar__container,
    .footer__container {
        max-width: 1400px;
    }

    .hero__title {
        font-size: var(--text-6xl);
    }

    .modules-ia__grid {
        grid-template-columns: repeat(4, 1fr);
    }

    .pricing__grid {
        gap: var(--space-2xl);
    }
}

/* ========================================
   ULTRA-WIDE SCREENS (1920px+)
   ======================================== */

@media (min-width: 1920px) {
    :root {
        --text-base: 1.0625rem;
    }

    .container {
        max-width: 1600px;
    }

    .hero {
        padding: var(--space-4xl) 0;
    }

    .modules-ia__grid {
        gap: var(--space-2xl);
    }
}

/* ========================================
   PRINT STYLES
   ======================================== */

@media print {
    .navbar,
    .hero__video-bg,
    .hero__particles,
    .hero__orb,
    .cta-section,
    .footer {
        display: none;
    }

    body {
        background: white;
        color: black;
    }

    .hero,
    section {
        page-break-inside: avoid;
    }
}
